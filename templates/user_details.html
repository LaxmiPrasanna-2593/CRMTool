<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Details</title>
</head>

<body>
    <h1>User Details</h1>
    <table border="1">
        <thead>
            <tr>
                <th>Profile Picture</th>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Employee Id</th>
                <th>Position</th>
                <th>Department</th>
                <th>Work Email</th>
                <th>SkillSet</th>
                <th>Total Experience</th>
                <th>Previous Company</th>
                <th>Previous Experience</th>
                <th>Previous Projects</th>
                <th>Previous Achievements</th>
                <th>Current Projects</th>
            </tr>
        </thead>
        <tbody>
            {% for user in user_details %}
            <tr>
                <td>
                    {% if user.employee.profile_picture %}
                    <img src="{{ user.employee.profile_picture.url }}" alt="Profile Picture" style="width: 50px; height: 50px;"> {% else %} NA {% endif %}
                </td>
                <td>{% if user.employee.first_name %}{{ user.employee.first_name }}{% else %}NA{% endif %}</td>
                <td>{% if user.employee.last_name %}{{ user.employee.last_name }}{% else %}NA{% endif %}</td>
                <td>{% if user.employee.employee_id %}{{ user.employee.employee_id }}{% else %}NA{% endif %}</td>
                <td>{% if user.employee.position %}{{ user.employee.position }}{% else %}NA{% endif %}</td>
                <td>{% if user.employee.department %}{{ user.employee.department }}{% else %}NA{% endif %}</td>
                <td>{% if user.employee.work_email %}{{ user.employee.work_email }}{% else %}NA{% endif %}</td>
                <td>{% if user.employee.skillset %}{{ user.employee.skillset }}{% else %}NA{% endif %}</td>
                <!-- Display total experience in "X years Y months" format, or NA if empty -->
                <td>{% if user.total_experience %}{{ user.total_experience }}{% else %}NA{% endif %}</td>
                <td>{% if user.employee.previous_company_name %}{{ user.employee.previous_company_name }}{% else %}NA{% endif %}</td>
                <td>{% if user.employee.previous_total_work_experience %}{{ user.employee.previous_total_work_experience }}{% else %}NA{% endif %}</td>
                <td>{% if user.employee.previous_projects %}{{ user.employee.previous_projects }}{% else %}NA{% endif %}</td>
                <td>{% if user.employee.previous_achievements %}{{ user.employee.previous_achievements }}{% else %}NA{% endif %}</td>
                <td>
                    {% if user.projects %} {% for project in user.projects %} {{ project }}<br> {% endfor %} {% else %} NA {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</body>

</html>