<h2>Employee Task Report</h2>

<form method="GET">
    <!-- Date Selection -->
    <label for="date">Date:</label>
    <input type="date" name="date" value="{{ date|date:'Y-m-d' }}">

    <!-- Project Selection -->
    <label for="project">Project:</label>
    <select name="project">
        <option value="">All Projects</option>
        {% for project in projects %}
            <option value="{{ project.id }}" {% if project == selected_project %}selected{% endif %}>{{ project.name }}</option>
        {% endfor %}
    </select>

    <button type="submit">Filter</button>
</form>

{% if message %}
<p>{{ message }}</p>
{% endif %}

<table>
    <tr>
        <th>Employee</th>
        <th>Project</th>
        <th>Task Description</th>
        <th>Status</th>
    </tr>
    {% for task in tasks_on_date %}
    <tr>
        <td>{{ task.employee.username }}</td>
        <td>{{ task.project.name }}</td>
        <td>{{ task.task_description }}</td>
        <td>{{ task.task_status }}</td>
    </tr>
    {% endfor %}
</table>